<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>折纸导航</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.wrap {
				position: relative;
				width: 400px;
				margin: 100px auto;
				perspective: 800px;
			}
			.wrap div {
				position: absolute;
				left: 0;
				top:30px;
				width: 100%;
				transform-style: preserve-3d; /*3d舞台*/
				transform-origin: top;
				transform: rotateX(-120deg);
			}
			.wrap span {
				display: block;
				height: 28px;
				background: #33ffff;
				line-height: 28px;
				text-align: center;
				transition: 1s;
			}
			#btn {
				position: absolute;
				left: 0;
				top: 0;
				z-index: 10;
				width: 400px;
				height: 30px;
			}
			.wrap .open {
				transform: rotateX(0deg);
				animation: 2s open ease-in;
			}
			.wrap .open > span {
				box-shadow: inset 0 0 100px 20px rgba(0,0,0,0);
			}
			@keyframes open{
				0%{
					transform: rotateX(-120deg);
				}
				25%{
					transform: rotateX(30deg);
				}
				50%{
					transform: rotateX(-15deg);
				}
				75%{
					transform: rotateX(10deg);
					box-shadow: inset 0 0 5px #ccc;
				}
				100%{
					transform: rotateX(	0deg);
				}
			}
			.wrap .close {
				transform: rotateX(-120deg);
				animation:  close 1s ease-in;
			}
			.wrap .close > span{
				box-shadow: inset 0 0 100px 20px rgba(0,0,0,1);
			}
			@keyframes close{
				0%{
					transform: rotateX(0deg);	
				}
				100%{
					transform: rotateX(-120deg);	
				}
				
			}
		</style>
	</head>

	<body>
		<div class="wrap" id="wrap">
			<input type="button" name="" id="btn" value="打开" />
			<div>
				<span>@poetries</span>
				<div>
					<span>静观流叶</span>
					<div>
						<span>小明</span>
						<div>
						    <span>晓明</span>
							<div>
								<span>小轩</span>
								<div>
									<span>小哲</span>
									<div>
										<span>小红</span>
										<div>
											<span>映红</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			var btn = document.getElementById("btn");
			var wrap = document.getElementById("wrap");
			var oDiv = wrap.getElementsByTagName("div");
			var i = 0,timer = null;
			var mark = true;
			
			btn.onclick = function(){
				if(mark){
					i = 0;
					timer = setInterval(function(){
					if(i == oDiv.length-1){
						clearInterval(timer);
						btn.value = "关闭";
					}
					oDiv[i].className = "open";
					i++;
				},200);
				}else{
					i = oDiv.length-1;
					timer = setInterval(function(){
					if(i==0){
						clearInterval(timer);
						btn.value = "打开";
					}
					oDiv[i].className = "close";
					i--;
				},100);
				}
				mark = !mark;
			}
			
		</script>
	</body>
</html>
