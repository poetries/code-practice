<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>

</head>

<body>
<input type="button" value="我的位置" id="btn" /><br />
<textarea id="txt" style="width:400px; height:400px; border:2px solid #333;resize: none;"></textarea>
</body>
</html>
<script>
window.onload=function()
{
	var oBtn=document.getElementById("btn");
	var oTxt=document.getElementById("txt");
	oBtn.onclick=function()
	{
		//地理对象
		navigator.geolocation.getCurrentPosition(function(position)
		{
			
			oTxt.value+="经度 : "+position.coords.longitude+"\n";
			oTxt.value+="纬度 : "+position.coords.latitude+"\n";
			oTxt.value+="准确度 : "+position. coords.accuracy+"\n";
			oTxt.value+="海拔 : "+position.coords.altitude+"\n";
			oTxt.value+="海拔准确度 : "+position.coords.altitudeAcuracy+"\n";
			oTxt.value+="行进方向 : "+position.coords.heading+"\n";
			oTxt.value+="地面速度 : "+position.coords.heading+"\n";
			
		},function(err){
			if(err.code==3)
			{
				alert("访问超时，请检查您的网络");	
			}else if(err.code==2)
			{
				alert("获取地理位置失败")	
			}else if(err.code==1)
			{
				alert("您的设备拒绝访问位置信息，请重新设置");	
			}else
			{
				alert("未知的访问失败，请联系管理员");
			}
			
		}),{
			timeout:5000,
			maximunAge:1000
			}
	}
	
}
</script>