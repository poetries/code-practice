<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="Keywords" content="">
		<meta name="Description" content="">
		<title>通过调用百度接口实现的搜索功能</title>
		<script src="../js/jquery-2.1.4.js"></script>
		<style>
			*{
				margin:0;
				padding:0;
			}
			html,body{
				width:100%;
				height:100%;
			}
			#txt{
				width:300px;
				height:40px;
				font-size:14px;
				font-family:"Microsoft Yahei";
				border:1px  solid #f99;
				display:block;
				margin:0 auto;
				
			}
			#list{
				width:300px;
				border:1px  solid blue;
				display:none;
				margin:0 auto;
			}
			#list li{
				width:300px;
				height:30px;
				font-size:12px;
				list-style:none;
			}
			#list li a{
				display:block;
				color:#000;
				line-height:30px;
				font-family:"Microsoft Yahei";
				text-decoration:none;
			}
			#list li a:hover{
				color:#fff;
				background:#f99;
			}
		</style>
	</head>
	<body>
		<input type="text" id="txt">
		<ul id="list">
			
		</ul>
	</body>
	<script>
		var oTxt = document.getElementById("txt");
		
		   document.onkeydown=function(event){//键盘事件
            var e = event || window.event || arguments.callee.caller.arguments[0];
            if(e && e.keyCode==27){ // 按 Esc 
                //要做的事情
              }
            if(e && e.keyCode==113){ // 按 F2 
                 //要做的事情
               }            
             if(e && e.keyCode==13){ // enter 键
                 //要做的事情
				oTxt.onkeyup = function(){
					var val = this.value;
					var oScript = document.createElement("script");
				
					oScript.src = "https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd="+ val +"&cb=fly";
					document.body.appendChild(oScript);
					document.body.removeChild(oScript);
				}
            }
        }; 

		function fly(data){
			//alert(data.s[7]);
			var oList = document.getElementById("list");
			var html = '';
			if (data.s.length>0)
			{
				for (var i=0;i<data.s.length ;i++ )
				{	
					html += '<li><a href="http://baidu.com/s?wd='+data.s[i]+'" target="_blank">'+data.s[i]+'</a></li>';
				}
				oList.style.display = "block";
				oList.innerHTML +=html;
			}else{
				oList.style.display = "none";
			}
			
			
		}
	</script>
</html>
